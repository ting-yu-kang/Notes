# 25. Reverse Nodes in k-Group

#### [link](https://leetcode.com/problems/reverse-nodes-in-k-group/)

#### Description
Given the `head` of a linked list, reverse the nodes of the list `k` at a time, and return *the modified list*.

`k` is a positive integer and is less than or equal to the length of the linked list. If the number of nodes is not a multiple of `k` then left-out nodes, in the end, should remain as it is.

You may not alter the values in the list's nodes, only nodes themselves may be changed.

#### Example 1:
![](https://assets.leetcode.com/uploads/2020/10/03/reverse_ex1.jpg)
```
Input: head = [1,2,3,4,5], k = 2
Output: [2,1,4,3,5]
```
#### Example 2:
![](https://assets.leetcode.com/uploads/2020/10/03/reverse_ex2.jpg)
```
Input: head = [1,2,3,4,5], k = 3
Output: [3,2,1,4,5]
```

#### Constraints:
* The number of nodes in the list is `n`.
* `1 <= k <= n <= 5000`
* `0 <= Node.val <= 1000`

**Follow-up:** Can you solve the problem in `O(1)` extra memory space?

## One Pass
```python
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def reverseKGroup(self, head: Optional[ListNode], k: int) -> Optional[ListNode]:
        dummy = ListNode(-1)
        dummy.next = head
        last_tail = dummy
        slow = fast = dummy.next

        while True:
            count = 0
            # Fast go explore k nodes
            while fast and count < k:
                fast = fast.next
                count += 1

            if count < k:
                break

            # Reverse k nodes
            prev = None
            now = slow
            while now != fast:
                tmp = now.next
                now.next = prev
                prev = now
                now = tmp

            # reconnect
            last_tail.next = prev
            slow.next = fast
            last_tail = slow
            slow = fast
        
        return dummy.next
```
### Time complexity
* O(n)
### Space complexity
* O(1)
### Remark